#N canvas -9 -9 1920 976 10;
#X obj 161 192 tgl 25 0 empty empty empty 17 7 0 25 -262144 -1 -1 0
1;
#X obj 95 527 r~ main_out;
#X obj 95 558 +~;
#X obj 111 427 *~;
#X obj 161 410 line~;
#X obj 161 391 pack 0 5;
#X obj 599 496 r loop_on_off;
#X text 109 366 Record;
#N canvas 330 257 450 319 into_blocks 0;
#X obj 173 101 % 64;
#X obj 146 81 t f f;
#X obj 146 121 -;
#X obj 146 59 int;
#X obj 146 17 inlet;
#X obj 146 167 outlet;
#X text 238 67 to be a multiple of the block size.;
#X text 238 49 Force the length of the tables;
#X text 134 261 Pierre Massat \, Guitar extended \, 2013;
#X connect 0 0 2 1;
#X connect 1 0 2 0;
#X connect 1 1 0 0;
#X connect 2 0 5 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X restore 388 339 pd into_blocks;
#X obj 388 358 s new_length;
#X obj 1012 703 r new_length;
#X obj 679 677 spigot;
#X obj 599 556 sel 1 0, f 12;
#X msg 599 588 bang;
#X msg 634 588 stop;
#X obj 599 635 s~ main_out;
#X obj 1005 752 r empty_table;
#X obj 1100 276 t f f;
#X obj 1100 314 s loop_on_off;
#X obj 599 536 t f f, f 6;
#X obj 691 613 s stop_looping;
#X obj 270 520 r stop_looping;
#X obj 600 693 s new_cycle;
#X obj 277 548 r new_cycle;
#X obj 96 605 tabwrite~ bande;
#X obj 599 613 tabplay~ bande;
#X obj 1004 808 table bande;
#N canvas 1078 264 252 282 limiter 0;
#X obj 24 22 inlet~;
#X obj 24 169 *~;
#X obj 24 200 outlet~;
#N canvas 0 50 450 350 z~ 0;
#X obj 29 23 inlet~;
#X obj 292 81 samplerate~;
#X floatatom 292 111 5 0 0 0 - - -;
#X obj 260 23 loadbang;
#X obj 260 49 t b b;
#X obj 260 142 /;
#X obj 260 111 \$1;
#X obj 260 170 * 1000;
#X obj 260 226 outlet~;
#X text 25 88 samplewise delay;
#X text 25 110 based on [z~] from the zexy library;
#X text 26 146 \$1: delay in samples;
#X obj 28 57 delwrite~ 1-del \$1;
#X obj 260 198 delread~ 1-del 500;
#X text 21 266 Source:;
#X text 21 279 https://forum.pdpatchrepo.info/topic/10002/vanilla-z-alternative-externals-abstr-vs-dll/5
;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 5 1;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 1 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 13 0 8 0;
#X restore 25 96 pd z~ 512;
#N canvas 0 50 244 278 limiter 0;
#X obj 92 69 env~;
#X obj 92 91 dbtorms;
#X obj 92 135 -;
#X obj 92 157 lop~ 20;
#X obj 91 46 inlet~;
#X obj 92 185 outlet~;
#X msg 92 113 1 \$1;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 6 0 2 0;
#X restore 129 111 pd limiter 100;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 1 1;
#X restore 111 477 pd limiter;
#X obj 817 450 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 817 519 s empty_table;
#X obj 599 516 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 477 85 Pierre Massat \, Guitar Extended \, 2013, f 37;
#X text 77 632 This is where the recording happens.;
#X obj 1100 259 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
1 1;
#X msg 568 499 1;
#X obj 817 473 t b b;
#X obj 817 496 del 2;
#X text 1139 277 Audio On/Off;
#X text 839 451 Clear;
#X obj 568 475 r new_length;
#X obj 97 841 soundfiler;
#X obj 97 774 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 1127 296 switch~;
#X msg 1005 773 \; bande const 0 \;;
#X msg 1005 722 \; bande resize \$1 \;;
#X obj 439 646 *~;
#X obj 454 625 line~;
#X obj 454 605 pack 0 5;
#X obj 438 561 r~ main_out;
#X obj 454 584 r vol-output;
#X obj 1100 335 s vol-output;
#X obj 1139 242 loadbang;
#X obj 421 251 loadbang;
#X obj 388 302 select 1 0, f 14;
#X obj 388 321 timer 1 sample;
#X msg 1005 684 441000;
#X obj 388 283 spigot;
#X obj 350 217 sel 0;
#X msg 350 251 0, f 4;
#X obj 350 268 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 350 233 del 1;
#X obj 261 302 sel 1 0;
#X msg 261 323 bang;
#X obj 261 283 spigot;
#X msg 280 431 stop;
#X obj 317 415 spigot;
#X obj 111 392 inlet~;
#X obj 441 725 outlet~;
#X obj 1120 421 spigot;
#X obj 1153 401 r fx4;
#X obj 856 255 r stop_loop;
#X obj 1059 466 spigot;
#X msg 1092 438 1;
#X obj 1059 489 del 10;
#X obj 817 399 spigot;
#X obj 817 418 s clear_array;
#X obj 856 384 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 906 368 0;
#X obj 856 333 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 856 355 1;
#X msg 1059 438 0;
#X obj 1059 418 loadbang;
#X obj 906 294 loadbang;
#X obj 856 309 del 100;
#X obj 974 449 r start_loop;
#X obj 1059 529 s eanble_bang;
#X obj 1120 457 s disable_bang;
#X msg 1120 438 0;
#X msg 1059 508 1;
#X obj 856 274 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 856 290 spigot;
#X obj 906 275 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 906 326 0;
#X msg 817 258 1;
#X obj 906 348 del 1000;
#X obj 1115 206 r stop_loop;
#X obj 991 225 r start_loop;
#X msg 1100 242 0;
#X msg 1072 242 1;
#X obj 441 702 *~;
#X obj 524 645 r loop1;
#X obj 524 665 sig~;
#X obj 523 685 lop~ 1;
#X obj 161 156 r bang;
#X obj 1027 315 s clock_in;
#X obj 1027 274 * -1;
#X obj 1027 295 + 1;
#X obj 761 654 s flash;
#X obj 761 636 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 317 434 0;
#X msg 97 818 write loop\$1.wav bande;
#X obj 97 795 f 1;
#X obj 125 795 + 1;
#X obj 97 731 r btn1;
#X obj 97 754 spigot;
#X obj 142 740 r fx4;
#X msg 385 251 1, f 4;
#X obj 1072 225 del 2;
#X obj 1062 668 del 10;
#X obj 679 658 del 2;
#X obj 1115 225 spigot;
#X obj 1189 210 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1189 172 * -1;
#X obj 1189 191 + 1;
#X obj 161 282 s loop_status;
#X obj 261 344 s clock_set;
#X obj 1189 154 r loop_status;
#X obj 679 639 r clock_set;
#X obj 1005 664 loadbang;
#X obj 1072 184 r clear_array;
#X obj 1062 648 r clear_array;
#X obj 386 232 r clear_array;
#X obj 1120 383 r stop_loop;
#X obj 1121 490 r clear_array;
#X text 1070 155 Start/Stop Loop;
#X text 826 231 Clear Array;
#X obj 207 156 r bang_0;
#X obj 317 455 s bang_0;
#X text 1021 626 Set/Resize Array;
#X text 521 718 Play the table (loop) continuously.;
#X text 94 713 Save loop as a .wav file.;
#X text 491 301 Get the duration between;
#X text 491 313 two beats...;
#X text 487 339 ...and compute the length;
#X text 487 353 of the table in samples \, as;
#X text 488 380 block size.;
#X text 488 368 a multiple of the;
#N canvas 1078 264 252 218 limiter 0;
#X obj 24 22 inlet~;
#X obj 24 169 *~;
#X obj 24 200 outlet~;
#N canvas 0 50 450 344 z~ 0;
#X obj 29 23 inlet~;
#X obj 292 81 samplerate~;
#X floatatom 292 111 5 0 0 0 - - -;
#X obj 260 23 loadbang;
#X obj 260 49 t b b;
#X obj 260 142 /;
#X obj 260 111 \$1;
#X obj 260 170 * 1000;
#X obj 260 226 outlet~;
#X text 25 88 samplewise delay;
#X text 25 110 based on [z~] from the zexy library;
#X text 26 146 \$1: delay in samples;
#X obj 28 57 delwrite~ 2-del \$1;
#X obj 260 198 delread~ 2-del 500;
#X text 21 266 Source:;
#X text 21 279 https://forum.pdpatchrepo.info/topic/10002/vanilla-z-alternative-externals-abstr-vs-dll/5
;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 5 1;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 1 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 13 0 8 0;
#X restore 25 96 pd z~ 512;
#N canvas 0 50 244 278 limiter 0;
#X obj 92 69 env~;
#X obj 92 91 dbtorms;
#X obj 92 135 -;
#X obj 92 157 lop~ 20;
#X obj 91 46 inlet~;
#X obj 92 185 outlet~;
#X msg 92 113 1 \$1;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 6 0 2 0;
#X restore 129 111 pd limiter 100;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 1 1;
#X restore 440 673 pd limiter;
#X text 478 167 Edit: Lehel Török;
#X text 477 72 Original patch designed by:;
#X text 477 100 https://guitarextended.wordpress.com/2013/08/05/making-a-looper-with-pure-data/
, f 57;
#X text 477 152 conbination with the effect cape.;
#X text 477 138 This is a modified version created to run on Bela Mini
in;
#X text 479 36 1 channel looper with overdub capability and clock synchronized
to the first layer, f 83;
#X connect 0 0 5 0;
#X connect 0 0 56 0;
#X connect 0 0 57 0;
#X connect 0 0 63 0;
#X connect 0 0 124 0;
#X connect 1 0 2 0;
#X connect 2 0 24 0;
#X connect 3 0 27 0;
#X connect 4 0 3 1;
#X connect 5 0 4 0;
#X connect 6 0 30 0;
#X connect 8 0 9 0;
#X connect 10 0 44 0;
#X connect 11 0 22 0;
#X connect 11 0 25 0;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 13 0 22 0;
#X connect 13 0 25 0;
#X connect 14 0 20 0;
#X connect 14 0 25 0;
#X connect 16 0 43 0;
#X connect 17 0 18 0;
#X connect 17 0 50 0;
#X connect 17 1 42 0;
#X connect 19 0 12 0;
#X connect 19 1 11 1;
#X connect 21 0 24 0;
#X connect 23 0 24 0;
#X connect 25 0 15 0;
#X connect 25 1 11 0;
#X connect 25 1 108 0;
#X connect 27 0 2 1;
#X connect 28 0 35 0;
#X connect 30 0 19 0;
#X connect 33 0 17 0;
#X connect 33 0 105 0;
#X connect 34 0 30 0;
#X connect 35 0 36 0;
#X connect 35 1 29 0;
#X connect 36 0 29 0;
#X connect 39 0 34 0;
#X connect 41 0 111 0;
#X connect 45 0 147 0;
#X connect 46 0 45 1;
#X connect 47 0 46 0;
#X connect 48 0 45 0;
#X connect 49 0 47 0;
#X connect 51 0 33 0;
#X connect 52 0 59 0;
#X connect 53 0 54 0;
#X connect 53 1 54 1;
#X connect 54 0 8 0;
#X connect 55 0 44 0;
#X connect 56 0 53 0;
#X connect 57 0 60 0;
#X connect 58 0 59 0;
#X connect 59 0 56 1;
#X connect 59 0 65 1;
#X connect 59 0 63 1;
#X connect 60 0 58 0;
#X connect 61 0 62 0;
#X connect 61 1 64 0;
#X connect 62 0 125 0;
#X connect 63 0 61 0;
#X connect 64 0 24 0;
#X connect 65 0 64 0;
#X connect 65 0 109 0;
#X connect 66 0 3 0;
#X connect 68 0 87 0;
#X connect 68 0 72 0;
#X connect 69 0 68 1;
#X connect 70 0 89 0;
#X connect 71 0 73 0;
#X connect 72 0 71 1;
#X connect 73 0 80 0;
#X connect 73 0 88 0;
#X connect 74 0 93 0;
#X connect 74 0 75 0;
#X connect 74 0 28 0;
#X connect 76 0 74 1;
#X connect 77 0 76 0;
#X connect 78 0 79 0;
#X connect 78 0 94 0;
#X connect 79 0 76 0;
#X connect 80 0 71 1;
#X connect 81 0 80 0;
#X connect 81 0 88 0;
#X connect 82 0 77 0;
#X connect 82 0 91 0;
#X connect 83 0 78 0;
#X connect 83 0 92 0;
#X connect 84 0 71 0;
#X connect 87 0 86 0;
#X connect 88 0 85 0;
#X connect 89 0 90 0;
#X connect 89 0 74 0;
#X connect 90 0 83 0;
#X connect 91 0 90 1;
#X connect 92 0 91 0;
#X connect 93 0 91 0;
#X connect 94 0 77 0;
#X connect 95 0 120 0;
#X connect 96 0 98 0;
#X connect 97 0 33 0;
#X connect 98 0 33 0;
#X connect 98 0 93 0;
#X connect 99 0 67 0;
#X connect 100 0 101 0;
#X connect 101 0 102 0;
#X connect 102 0 99 1;
#X connect 103 0 0 0;
#X connect 105 0 106 0;
#X connect 106 0 104 0;
#X connect 108 0 107 0;
#X connect 109 0 137 0;
#X connect 110 0 40 0;
#X connect 111 0 110 0;
#X connect 111 0 112 0;
#X connect 112 0 111 1;
#X connect 113 0 114 0;
#X connect 114 0 41 0;
#X connect 115 0 114 1;
#X connect 116 0 59 0;
#X connect 117 0 98 0;
#X connect 118 0 55 0;
#X connect 119 0 11 0;
#X connect 120 0 97 0;
#X connect 121 0 120 1;
#X connect 122 0 123 0;
#X connect 123 0 121 0;
#X connect 126 0 122 0;
#X connect 127 0 119 0;
#X connect 128 0 55 0;
#X connect 129 0 117 0;
#X connect 129 0 97 0;
#X connect 130 0 118 0;
#X connect 131 0 116 0;
#X connect 132 0 68 0;
#X connect 133 0 88 0;
#X connect 136 0 0 0;
#X connect 147 0 99 0;
